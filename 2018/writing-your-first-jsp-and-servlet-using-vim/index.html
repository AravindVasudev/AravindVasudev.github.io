<!doctype html><html prefix="og: http://ogp.me/ns#">
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Writing your first JSP and Servlet using Vim &#183; Aravind Vasudevan</title>
<meta name=description content="Moving to Java from scripting languages can be a tedious process. A lot of times, it is hard to understand what the IDE does in the background to serve our web application. Hence, I&rsquo;m writing these quick bite-sized notes as I learn.
Servlets and JSPs run on a Servlet Container such as Apache Tomcat, Jetty, etc. When we write a Servlet in an IDE such as Eclipse, the IDE takes care of building the class and serving it.">
<meta name=HandheldFriendly content="True">
<meta name=MobileOptimized content="320">
<meta name=generator content="Hugo 0.89.4">
<meta name=robots content="index,follow">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Writing your first JSP and Servlet using Vim">
<meta property="og:description" content="Moving to Java from scripting languages can be a tedious process. A lot of times, it is hard to understand what the IDE does in the background to serve our web application. Hence, I&rsquo;m writing these quick bite-sized notes as I learn.
Servlets and JSPs run on a Servlet Container such as Apache Tomcat, Jetty, etc. When we write a Servlet in an IDE such as Eclipse, the IDE takes care of building the class and serving it.">
<meta property="og:type" content="article">
<meta property="og:url" content="/2018/writing-your-first-jsp-and-servlet-using-vim/">
<link rel=stylesheet href=/dist/site.css>
<link rel=stylesheet href=/dist/syntax.css>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
<link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous>
</head>
<body>
<script type=application/javascript>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-83211075-2','auto'),ga('set','anonymizeIp',!0),ga('send','pageview'))</script>
<div id=wrapper>
<header class=site-header>
<div class=container>
<div class=site-title-wrapper>
<h1 class=site-title>
<a href=/>Yet another programmer's blog</a>
</h1>
<a class=button-square href=/index.xml aria-label=RSS><i class="fa fa-rss" aria-hidden=true></i></a>
<a class="button-square button-social hint--top" data-hint=Github aria-label=Github href=https://github.com/AravindVasudev rel=me>
<i class="fa fa-github-alt" aria-hidden=true></i>
</a>
<a class="button-square button-social hint--top" data-hint=LinkedIn aria-label=LinkedIn href=https://linkedin.com/in/aravindvasudev/ rel=me>
<i class="fa fa-linkedin" aria-hidden=true></i>
</a>
<a class="button-square button-social hint--top" data-hint=Email aria-label="Send an Email" href=mailto:aravind_vasudevan@outlook.com>
<i class="fa fa-envelope" aria-hidden=true></i>
</a>
</div>
<ul class=site-nav>
<li class=site-nav-item>
<a href=/>Blog</a>
</li>
<li class=site-nav-item>
<a href=/about/>About</a>
</li>
</ul>
</div>
</header>
<div id=container>
<div class=container>
<article class=post-container itemscope itemtype=http://schema.org/BlogPosting>
<header class=post-header>
<h1 class=post-title itemprop="name headline">Writing your first JSP and Servlet using Vim</h1>
<p class=post-date>
<span>Published <time datetime=2018-06-29 itemprop=datePublished>Fri, Jun 29, 2018</time></span>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person>
<span itemprop=name>
<a href=https://github.com/AravindVasudev itemprop=url rel=author>Aravind Vasudevan</a>
</span>
</span>
</p>
<p class="post-reading post-line">
<span>Estimated reading time: 3 min</span>
</p>
</header>
<div class="post-content clearfix" itemprop=articleBody>
<p>Moving to Java from scripting languages can be a tedious process. A lot of times, it is hard to understand what the IDE does in the background to serve our web application. Hence, I&rsquo;m writing these quick bite-sized notes as I learn.</p>
<p>Servlets and JSPs run on a Servlet Container such as Apache Tomcat, Jetty, etc. When we write a Servlet in an IDE such as Eclipse, the IDE takes care of building the class and serving it. This note will help you write your first servlet without an IDE (you can even use notepad to follow along).</p>
<hr>
<h2 id=setting-up-vim-for-java>Setting up Vim for Java</h2>
<p>To begin with, <em>Syntastic</em> is good enough. you can try solutions like <em>Eclim</em>,
but I was recommended to move to IDEs once I pick up with the underlying basics
since Java needs a lot of configuring and building process.</p>
<h2 id=tomcat-structure>Tomcat Structure</h2>
<p>You can tomcat from <a href=https://tomcat.apache.org/download-80.cgi>here</a>.</p>
<table>
<thead>
<tr>
<th style=text-align:right>Directory</th>
<th style=text-align:left>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:right><em>bin</em></td>
<td style=text-align:left>contains all tomcat related scripts such as shutdown, startup, etc.</td>
</tr>
<tr>
<td style=text-align:right><em>conf</em></td>
<td style=text-align:left>contains tomcat configuration files such as <em>web.xml</em> and <em>server.xml</em>.</td>
</tr>
<tr>
<td style=text-align:right><em>lib</em></td>
<td style=text-align:left>contains tomcat required jars including <em>servlet-api.jar</em>.</td>
</tr>
<tr>
<td style=text-align:right><em>logs</em></td>
<td style=text-align:left>all tomcat generated logs are stored here.</td>
</tr>
<tr>
<td style=text-align:right><em>temp</em></td>
<td style=text-align:left>JVM writes temporary files here.</td>
</tr>
<tr>
<td style=text-align:right><em>work</em></td>
<td style=text-align:left>stores compiled JSPs and other assests.</td>
</tr>
<tr>
<td style=text-align:right><em>webapps</em></td>
<td style=text-align:left>contains all webapps deployed by tomcat. <em>.war</em> files placed here are expanded automatically.</td>
</tr>
<tr>
<td style=text-align:right><em>WEB-INF</em></td>
<td style=text-align:left>contains application related files that aren&rsquo;t served such as <em>web.xml</em>, <em>libraries</em>, and <em>servlet class files</em>.</td>
</tr>
</tbody>
</table>
<h2 id=starting-tomcat>Starting Tomcat</h2>
<p>Once you have downloaded tomcat, you can start it by opening your command line/terminal
in the directory and running <code>bin/startup.sh</code>. (<code>bin/startup.bat</code> for windows).
Now tomcat is started in port <em>8080</em>.</p>
<p>Similarly, you can quit tomcat by running <code>bin/shutdown.sh</code> or <code>bin/shutdown.bat</code>.</p>
<h2 id=serving-jsps>Serving JSPs</h2>
<p>By default, your <code>webapps/ROOT</code> is served. replace the default <code>index.jsp</code> with the
following:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=cp>&lt;!DOCTYPE html&gt;</span>
<span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width, initial-scale=1.0&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>http-equiv</span><span class=o>=</span><span class=s>&#34;X-UA-Compatible&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;ie=edge&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Hello World<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
    <span class=err>&lt;</span>%= &#34;Hello World&#34; %&gt;
<span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div><p>Since JSP files are automatically compiled by Tomcat, you do not need to restart
the server.</p>
<h2 id=compiling-and-serving-servlets>Compiling and Serving Servlets</h2>
<h3 id=write-a-simple-servlet-class>Write a simple servlet class</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=kn>import</span> <span class=nn>java.io.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.servlet.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.servlet.http.*</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Hello</span> <span class=kd>extends</span> <span class=n>HttpServlet</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doGet</span><span class=o>(</span><span class=n>HttpServletRequest</span> <span class=n>request</span><span class=o>,</span> <span class=n>HttpServletResponse</span> <span class=n>response</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>ServletException</span><span class=o>,</span> <span class=n>IOException</span> <span class=o>{</span>
    <span class=n>response</span><span class=o>.</span><span class=na>setContentType</span><span class=o>(</span><span class=s>&#34;text/html&#34;</span><span class=o>);</span>

    <span class=n>PrintWriter</span> <span class=n>out</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=na>getWriter</span><span class=o>();</span>
    <span class=n>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&lt;h1&gt;Hello World&lt;/h1&gt;&#34;</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></div><h3 id=compile-the-servlet-class>Compile the servlet class</h3>
<p>To compile the servlet class, you need to include <code>servlet-api.jar</code> to your
<em>CLASSPATH</em>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=nx>export</span> <span class=nx>CLASSPATH</span><span class=o>=/</span><span class=nx>path</span><span class=o>/</span><span class=nx>to</span><span class=o>/</span><span class=nx>tomcat</span><span class=o>/</span><span class=nx>lib</span><span class=o>/</span><span class=nx>servlet</span><span class=o>-</span><span class=nx>api</span><span class=o>.</span><span class=nx>jar</span>
</code></pre></div><p>Move the generated <em>.class</em> file to <em>WEB-INF/classes</em>.</p>
<h3 id=add-entry-to-deployment-descriptor-webxml>Add entry to deployment descriptor (web.xml)</h3>
<p>Add the following between <code>&lt;web-app></code> in <em>WEB-INF/web.xml</em>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;servlet&gt;</span>
<span class=nt>&lt;servlet-name&gt;</span>Hello<span class=nt>&lt;/servlet-name&gt;</span>
<span class=nt>&lt;servlet-class&gt;</span>Hello<span class=nt>&lt;/servlet-class&gt;</span>
<span class=nt>&lt;/servlet&gt;</span>

<span class=nt>&lt;servlet-mapping&gt;</span>
<span class=nt>&lt;servlet-name&gt;</span>Hello<span class=nt>&lt;/servlet-name&gt;</span>
<span class=nt>&lt;url-pattern&gt;</span>/hello<span class=nt>&lt;/url-pattern&gt;</span>
<span class=nt>&lt;/servlet-mapping&gt;</span>
</code></pre></div><p>Entry to <em>web.xml</em> works like this:</p>
<ul>
<li>First add the servlet class with a name within <code>&lt;servlet></code>.</li>
<li>Then map that servlet name to a URL within <code>&lt;servlet-mapping></code>.</li>
</ul>
<h3 id=restart-tomcat>Restart tomcat</h3>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=o>./</span><span class=nx>bin</span><span class=o>/</span><span class=nx>shutdown</span><span class=o>.</span><span class=nx>sh</span>
<span class=o>./</span><span class=nx>bin</span><span class=o>/</span><span class=nx>startup</span><span class=o>.</span><span class=nx>sh</span>
</code></pre></div><p>That&rsquo;s it. Navigate to <a href=http://localhost:8080/hello>http://localhost:8080/hello</a> to see your servlet. This
note is the first in my JavaBytes series. Hope this had helped you to know
what eclipse does under the hood.</p>
<p>So long!</p>
</div>
<footer class="post-footer clearfix">
<p class=post-tags>
<span>Tagged:</span>
<a href=/tags/javabytes/>JavaBytes</a>
</p>
<div class=share>
<a class=icon-linkedin href="https://www.linkedin.com/shareArticle?mini=true&title=Writing%20your%20first%20JSP%20and%20Servlet%20using%20Vim&url=%2f2018%2fwriting-your-first-jsp-and-servlet-using-vim%2f&summary=" onclick="return window.open(this.href,'linkedin-share','width=554,height=481'),!1" aria-label="Share on LinkedIn">
<i class="fa fa-linkedin" aria-hidden=true></i>
</a>
</div>
</footer>
<div class=comments>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//aravind-vasudev-blog.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</article>
</div>
</div>
</div>
<footer class=footer>
<div class=container>
<div class=site-title-wrapper>
<h1 class=site-title>
<a href=/>Yet another programmer's blog</a>
</h1>
<a class="button-square button-jump-top js-jump-top" href=# aria-label="Back to Top">
<i class="fa fa-angle-up" aria-hidden=true></i>
</a>
</div>
<p class=footer-copyright>
<span>&copy; 2021 / Powered by <a href=https://gohugo.io/>Hugo</a></span>
</p>
<p class=footer-copyright>
<span><a href=https://github.com/roryg/ghostwriter>Ghostwriter theme</a> By <a href=http://jollygoodthemes.com>JollyGoodThemes</a></span>
<span>/ <a href=https://github.com/jbub/ghostwriter>Ported</a> to Hugo By <a href=https://github.com/jbub>jbub</a></span>
</p>
</div>
</footer>
<script src=/js/jquery-1.11.3.min.js></script>
<script src=/js/jquery.fitvids.js></script>
<script src=/js/scripts.js></script>
</body>
</html>